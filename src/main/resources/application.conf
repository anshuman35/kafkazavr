ktor {
  development = true
  deployment {
    port = 8080
    port = ${?PORT}
  }
  application {
    modules = [com.example.ApplicationKt.module]
  }

  kafka {
    bootstrap-servers = ["my.confluent.cloud:9092"]
    
    properties {
      ssl.endpoint.identification.algorithm = https
      sasl.mechanism = PLAIN
      request.timeout.ms = 20000
      retry.backoff.ms = 500
      sasl.jaas.config = "org.apache.kafka.common.security.plain.PlainLoginModule required username=${?USER} password=${?SECRET};"
      security.protocol = SASL_SSL
    }
    consumer {
      group-id = klyfft-app
      key-deserializer = org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer = org.apache.kafka.common.serialization.StringDeserializer
    }
    producer {
      key-serializer = org.apache.kafka.common.serialization.StringSerializer
      value-serializer = org.apache.kafka.common.serialization.StringSerializer
    }
  }

  mapbox {
    //should be response attribute?
    api-key = ${?API_TOKEN}
  }
}
